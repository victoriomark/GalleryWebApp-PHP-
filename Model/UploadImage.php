<?php$conn = mysqli_connect('localhost','root','','galeryapp');if(!$conn){    die('<h1 class="text-danger">Connection Problem</h1>');}if($_SERVER['REQUEST_METHOD'] === 'POST'){    $data = [];    $error = [];    if (empty($_FILES['image'])){        $error['image'] = 'please select an image';    }    if(!empty($error)){ // checking if we have an error then the success is going to false        $data['success'] = false;        $data['errors'] = $error;    }else{        // else let's query for uploading the image        $id = $_POST['ID'];        $fileDIR = './PictureUpload/';        $filePath = $_FILES['image']['tmp_name'];        $fileName = $_FILES['image']['name'];        $Destination = $fileDIR . $fileName;// Check if the image already exists        $checkQuery = "SELECT COUNT(*) FROM pictures WHERE image = ?";        $checkStmt = $conn->prepare($checkQuery);        $checkStmt->bind_param('s', $fileName);        $checkStmt->execute();        $checkStmt->bind_result($count);        $checkStmt->fetch();        $checkStmt->close();        if ($count > 0) {            $data['success'] = false;            $data['message'] =  "your image is already exists";        } else {            move_uploaded_file($filePath, $Destination); // move to upload to my dir            $imageName = htmlspecialchars(basename($_FILES['image']['name']));            $Query = "INSERT INTO pictures(image, album_id) VALUES (?, ?)";            $stmt = $conn->prepare($Query);            $stmt->bind_param('si', $imageName, $id);            if ($stmt->execute()) {                $data['success'] = true;                $data['message'] =  "picture is successfully uploaded!";            } else {                echo "Error" . mysqli_error($conn);            }            $stmt->close();        }        $conn->close();    }    echo json_encode($data);   }