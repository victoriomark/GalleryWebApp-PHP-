$(document).ready( function (){    let image    const fileImage = document.getElementById('uploadAlb_img');    fileImage.addEventListener('change',(event) =>{        image = event.target.files[0]    })    $('#form_adding_album').submit(function (event){        event.preventDefault();        const DataForm = new FormData();        DataForm.append('Image',image);        DataForm.append('Title',$('#Title').val());        // make an ajax request       $.ajax({           type: "POST",           url: '../Model/CreateAlbum.php',           contentType: false,           processData: false,           encode: true,           dataType: 'json',           data: DataForm,           success: function (data){               // desplay the error message               if(data.errors){ // to fix the error ("Cannot read properties of undefined (reading 'Title')") suggests that data.errors                   if(data.errors.Title){                       $('#title-msg').html(data.errors.Title);                       $('#Title').addClass('is-invalid');                   }else {                       $('#Title').removeClass('is-invalid');                   }                   if(data.errors.Image){                       $("#useUpload").html(data.errors.Image);                       $('#uploadAlb_img').addClass('is-invalid');                   }else{                       $('#uploadAlb_img').removeClass('is-invalid');                   }               }else {                   // if success then show the loading state                   $('#create_btn').html(                 `                       <div class="spinner-border fs-1" role="status">                           <span class="visually-hidden">Loading...</span>                       </div>                 `                   );                   // make 2 second delay affter refreshing the page                   setTimeout(() =>{                       window.location.reload();                   },2000)               }           }       });    });});// making the deletion of the album$(document).ready(function (){    $(document).click(function (event){        if(event.target.id === 'btn_del'){            // then open the modal cconform            $('#ConfirmModal').modal('show')            // make an event for btn confirm to trigger the deleting ajax request            $('#ConfirmDel').click(function (){                // make ajax request for delete                $.ajax({                    type: 'POST',                    url: '../Model/DeleteAlbum.php',                    encode: true,                    dataType: 'json',                    data:{Id: event.target.value},                    success: function (data){                        // check if the delition is failed                        if (data.errors){                          $('.modal-body').html(                              `                              <span class="alert alert danger">${data.message}</span>                              `                          );                        }else {                            // else make a loading state                            $('#ConfirmDel').html(                                `                               <div class="spinner-border fs-1" role="status">                                   <span class="visually-hidden">Loading...</span>                               </div>                             `                            );                            // set the delay to refresh the page                            setTimeout(() =>{                                window.location.reload();                            },2000);                        }                    }                })            });        }    })});// now make update functionality$(document).ready(function (){    $(document).click(function (event){        if(event.target.id === 'Edit_btn'){            // make ajax reuest to send the id in the backend to make query to view the data base on the id            $.ajax({                type: 'POST',                url: '../Model/ViewUpdate.php',                data:{Id: event.target.value},                success: function (data,status){                    $('body').append(data); //wag kallimutan if ang modal is galing sa backend                       $('#VIEW_EDIT_MODAL').modal('show');                }            })        }    })});// now making Save funcctionality$(document).ready(function (){    let image = null;    // Add event listener to the image input    $(document).on('change', '#uploadAlb_imgSAVE', function (e) {        image = e.target.files[0];    });    $(document).click(function (event){        if (event.target.id === 'SaveBTN'){            var formdata = new  FormData();            formdata.append('Title',$('#TitleSave').val());            formdata.append('image',image);            formdata.append('Id',event.target.value);            // make ajax reequest to update the album            $.ajax({                type: 'POST',                url: '../Model/SaveUpdatedAlbum.php',                data:formdata,                contentType: false,                processData: false,                encode: true,                dataType: 'json',                success: function (data){                   // make a loader                    if (data.message === 'album is successfully update'){                        $('#SaveBTN').html(                            `                             <div class="spinner-border fs-1" role="status">                                   <span class="visually-hidden">Loading...</span>                               </div>                            `                        );                        setTimeout(() =>{                            window.location.reload();                        },2000)                    }else { // display thee error                        $('.modal-body').html(                           `                            <di class="alert alert-danger">${data.message}</div>                           `                        );                    }                }            });        }    });});// functionallity for logout$(document).ready(function (){     $('#form_logout').submit(function (event){         event.preventDefault();         $('#GettingLogout').html(             `              <div class="spinner-border fs-1  text-light" role="status">               <span class="visually-hidden">Loading...</span>                </div>             `         );         setTimeout(() =>{             window.location.href = '../Auth/Logout.php';         },2000)     });});$(document).ready(function (){    $(document).on('click', function (event){        if (event.target.id === 'open_'){            $.ajax({                type: 'POST',                url: '../Model/OpenAlbumPassId.php',                data: {ID: event.target.value},                success: function (data){                    location.href =  '../View/OpenAlbum.php'                }            });        }    });});